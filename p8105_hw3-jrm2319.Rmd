---
title: "Homework 3"
output: github_document
Name: Jasmin Martinez
Date: 10/16/24
---
# **Problem 1**

## Part 1: Loading data set & understanding it
#### Load in NY NOAA dataset from p8105 website 
```{r}
library(p8105.datasets)
data("ny_noaa")
str(ny_noaa)
sum(is.na(ny_noaa))
```


```{r include=FALSE}
sum(is.na(ny_noaa$id))
sum(is.na(ny_noaa$date))
sum(is.na(ny_noaa$prcp))
sum(is.na(ny_noaa$snow))
sum(is.na(ny_noaa$snwd))
sum(is.na(ny_noaa$tmax))
sum(is.na(ny_noaa$tmin))
```

```{r include=FALSE}
ny_noaa
```
#### Description of data
This data set has about 2.6 million observations and 7 variables. The variable names, order, and variable type are as follows: 

id: weather station ID--*character variable type*

date: date of observation- *date variable type*

prcp: precipitation (tenths of mm)- *integer variable type*

snow: snowfall (mm)- *integer variable type*
snwd: snow depth (mm)- *integer variable type*

tmax: maximum temperature (tenths of degrees C)- *character variable type*

tmin: minimum temperature (tenths of degrees C)- *character variable type*

Key variables include 'id' and 'date'. 'id' is a key variable as it can be used to group weather stations and 'date' is a key variable because it can help filter information from a specific date range. 

There are values missing for observations throughout the dataset, in total there 3,387,623 missing values across all variables. Missing values are identified by "NA." 'id' and 'date' are not missing for any observation. 'tmax' and 'tmin' have the most missing values with 1,134,358 and 1,134,420 values missing, respectively. 

## Part 2: Data Cleaning
Separating the date into month, day, and year. Also converting units of prcp from 1/10 of a mm to a mm by making a new variable 'prcp_mm'. Now, precipitation and snowfall are in the same units. Also, adjusted units of tmax and tmin to make them easier to understand--units are now in degrees Celsius. 
```{r}
library(tidyr)
library(dplyr)

ny_noaa_working = ny_noaa %>% 
  separate(date, into = c("year", "month", "day"), sep = "-") %>% 
  mutate(prcp_mm = prcp/10) %>% 
  mutate(tmax = as.integer(tmax)) %>% 
  mutate(tmin = as.integer(tmin)) %>% 
  mutate(tmax_c = tmax/10) %>% 
  mutate(tmin_c = tmin/10)
```

Now, to understand what the most commonly observed value for snowfall are we will use the following code: 
```{r}
ny_noaa_working %>% 
  group_by(snow) %>% 
  summarize(n_obs = n())
```

The most commonly observed value for snowfall is 0mm, the description of the NOAA dataset mentions that "about one half of the stations report precipitation only" which may be why the highest observed value is 0mm, because those stations don't report snowfall. Additionally, some of the areas where the stations are located may be areas where it does not snow. 

## Part 3: Two-panel plot of avg. max temperature 

```{r}
library(ggplot2)

ny_noaa_working = ny_noaa_working %>% 
  mutate(month = as.integer(month)) %>% 
  mutate(year = as.integer(year)) %>% 
  mutate(day = as.integer(day))

ny_noaa_janjul = ny_noaa_working %>% 
  filter(month %in% c(1,7)) %>% 
  mutate (
    mean_tmax_c = mean(tmax_c, na.rm = TRUE)
  )

ggplot(ny_noaa_janjul, aes(x = year, y = mean_tmax_c, color = month)) + 
  geom_point(aes(size = mean_tmax_c), alpha =.5) +
  facet_grid(. ~ month)
```
### **Problem 2**
## Part 1: 
# Load, tidy, organize data 
```{r}

```
## Part 2:
# Table of men and women in each edu. category 
# Visualization of age distributions 

## Part 3: 
# Aggregrate across minutes to create total activity variable for each participant 
# Plot 

## Part 4: 
# Three-panel plot 
# Description & Conclusion 

### **Problem 3**
```{r}
```
